(this.webpackJsonpbingo=this.webpackJsonpbingo||[]).push([[0],{13:function(e,t,n){e.exports=n(22)},18:function(e,t,n){},20:function(e,t,n){},22:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(10),o=n.n(r),l=(n(18),n(6)),s=n.n(l),c=n(11),u=n(2),h=n(3),d=n(5),f=n(4),p=(n(20),n(1)),v=n.n(p),m=n(12),k=n.n(m);function g(e){return JSON.stringify(e)}function w(e){var t,n,a;for(a=e.length-1;a>0;a--)t=Math.floor(Math.random()*(a+1)),n=e[a],e[a]=e[t],e[t]=n;return e}Array.prototype.random=function(){return this[Math.floor(Math.random()*this.length)]},String.prototype.format=function(){var e=arguments;return this.replace(/\{(\d+)\}/g,(function(t,n){return e[n]}))};var b=function(e){Object(d.a)(n,e);var t=Object(f.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){var e=this,t=this.props.clicked?"tile-bg-clicked":"tile-bg";return i.a.createElement("div",{className:"tile "+t,onClick:function(){return e.props.onClick()},onContextMenu:function(t){t.preventDefault(),e.props.onRightClick()}},i.a.createElement("p",null,this.props.text))}}]),n}(i.a.Component),y=function(e){Object(d.a)(n,e);var t=Object(f.a)(n);function n(e){return Object(u.a)(this,n),t.call(this,e)}return Object(h.a)(n,[{key:"render",value:function(){var e=this;return i.a.createElement("textarea",{className:"text-field",type:"text",onChange:function(t){return e.props.onChange(t)},id:"word_pool",placeholder:"Enter words here to create randomized boards from a word list! Separate words with a new line."})}}]),n}(i.a.Component),z=function(e){Object(d.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).version="v0.1.2",n.veryBigSize=10,n.defaultSize=3,n.template={clicked:!1,text:"Right-click to change text"},n.state={wordList:"",title:"Pinewood Bingo App {0} - Click to edit title".format(n.version),size:n.defaultSize,tiles:Array(Math.pow(n.defaultSize,2)).fill(n.template)},n}return Object(h.a)(a,[{key:"saveWordList",value:function(){var e=this.state.wordList,t=n(9),a=new Blob([e],{type:"text/plain;charset=utf-8"});t.saveAs(a,"word_list.txt")}},{key:"updateWordList",value:function(e){this.setState({wordList:e.target.value})}},{key:"changeTitle",value:function(){var e=prompt("Enter a title for the board:");null!=e&&""!=e&&this.setState({title:e})}},{key:"getTotalTiles",value:function(){return Math.pow(this.state.size,2)}},{key:"resetClickedTiles",value:function(){for(var e=this.state.tiles.slice(),t=0;t<e.length;t++)e[t]={clicked:!1,text:e[t].text};this.setState({size:this.state.size,tiles:e})}},{key:"randomizeFromWordPool",value:function(){var e=this.state.wordList.split(/\r\n|\r|\n/),t=this.state.tiles.slice();if(""!=e[0])if(""==e[e.length-1]&&e.pop(),e.length<this.getTotalTiles()&&!this.hasSeenWordListWarning)alert("The word list has fewer words than tiles in the board.");else{e=w(e);for(var n=0;n<this.getTotalTiles();n++){var a=k.a.sample(e);t[n]={clicked:!1,text:a},e=e.filter((function(e){return e!=a}))}this.setState({size:this.state.size,tiles:t})}}},{key:"randomizeTileOrder",value:function(){this.setState({size:this.state.size,tiles:w(this.state.tiles)})}},{key:"saveBoard",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"toFile",t=g(this.state);if("toFile"==e){var a=n(9),i=new Blob([t],{type:"text/plain;charset=utf-8"});a.saveAs(i,"board.txt")}else if("toText"==e){var r=window.open("");r.document.write(t)}}},{key:"loadBoard",value:function(){var e=Object(c.a)(s.a.mark((function e(t){var n,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(v()("#file_loader").prop("files").length>0)){e.next=8;break}return n=v()("#file_loader").prop("files")[0],new FileReader,e.next=5,n.text();case 5:a=e.sent,this.setState((t=a,JSON.parse(t))),v()("#word_pool").val(this.state.wordList);case 8:case"end":return e.stop()}var t}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"changeSize",value:function(){var e=parseInt(prompt("Enter new size for the board:"));null==e||""==e||e<1?alert("Invalid size; don't be stupid"):e>this.veryBigSize&&!window.confirm("You're creating a very large board ("+e+"x"+e+").\nAre you sure you want to do that?")||this.setState({size:e,tiles:Array(Math.pow(e,2)).fill(this.template)})}},{key:"renderTile",value:function(e){var t=this,n=this.state.tiles[e];return i.a.createElement(b,{clicked:n.clicked,text:n.text,onClick:function(){return t.handleClick(e)},onRightClick:function(){return t.handleRightClick(e)}})}},{key:"handleRightClick",value:function(e){var t=this.state.tiles.slice(),n=prompt("Enter text for this tile:");null!=n&&""!=n&&(""==v()("#word_pool").val()?v()("#word_pool").val(v()("#word_pool").val()+n):v()("#word_pool").val(v()("#word_pool").val()+"\n"+n),t[e]={clicked:t[e].clicked,text:n},this.setState({size:this.state.size,tiles:t}))}},{key:"handleClick",value:function(e){var t=this.state.tiles.slice();t[e]={clicked:!t[e].clicked,text:t[e].text},this.setState({size:this.state.size,tiles:t})}},{key:"render",value:function(){for(var e=this,t=[],n=[],a=0;a<Math.pow(this.state.size,2);a++)t.push(i.a.createElement("th",{key:a},this.renderTile(a)));for(var r=0,o=0;o<this.state.size;o++){for(var l=[],s=0;s<this.state.size;s++)l.push(t[r]),r++;n.push(i.a.createElement("tr",{key:o},l))}return i.a.createElement("div",{className:"flex-main"},i.a.createElement("div",null,i.a.createElement("h1",{onClick:function(){return e.changeTitle()}},this.state.title),i.a.createElement("table",{className:"tile-holder"},i.a.createElement("tbody",null,n))),i.a.createElement("div",{className:"right-panel"},i.a.createElement(y,{onChange:function(t){return e.updateWordList(t)}}),i.a.createElement("div",{className:"button-bar"},i.a.createElement("button",{className:"large-button",onClick:function(){return e.randomizeFromWordPool()}},"Generate Board from Word List"),i.a.createElement("button",{onClick:function(){return e.changeSize()}},"Change Size"),i.a.createElement("button",{onClick:function(){return e.randomizeTileOrder()}},"Shuffle Tiles"),i.a.createElement("button",{onClick:function(){return e.saveBoard()}},"Save Board"),i.a.createElement("button",{onClick:function(){return v()("#file_loader").click()}},"Load Board"),i.a.createElement("input",{onChange:function(t){return e.loadBoard(t)},className:"hidden",type:"file",accept:".txt",id:"file_loader"}))))}}]),a}(i.a.Component),x=function(e){Object(d.a)(n,e);var t=Object(f.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){return i.a.createElement("div",{className:"flex-center-column"},i.a.createElement(z,null))}}]),n}(i.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(x,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[13,1,2]]]);
//# sourceMappingURL=main.5d3443bf.chunk.js.map