(this.webpackJsonpbingo=this.webpackJsonpbingo||[]).push([[0],{13:function(e,t,a){e.exports=a(22)},18:function(e,t,a){},20:function(e,t,a){},22:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(11),s=a.n(i),o=(a(18),a(6)),l=a.n(o),c=a(12),u=a(2),h=a(3),m=a(5),d=a(4),p=(a(20),a(1)),f=a.n(p),b=a(7),v=a.n(b);function k(e){return JSON.stringify(e)}function g(e){var t,a,n;for(n=e.length-1;n>0;n--)t=Math.floor(Math.random()*(n+1)),a=e[n],e[n]=e[t],e[t]=a;return e}Array.prototype.random=function(){return this[Math.floor(Math.random()*this.length)]},String.prototype.format=function(){var e=arguments;return this.replace(/\{(\d+)\}/g,(function(t,a){return e[a]}))};var N=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){var e=this,t=this.props.clicked?"tile-bg-clicked":"tile-bg",a=this.props.useNumbers?this.props.number:this.props.text,n=(a=this.props.freeSpace?"Free space!":a,this.props.useNumbers?"large-text":"");return r.a.createElement("div",{className:"tile "+t,onClick:function(){return e.props.onClick()},onContextMenu:function(t){t.preventDefault(),e.props.onRightClick()}},r.a.createElement("p",{className:n},a))}}]),a}(r.a.Component),w=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){return Object(u.a)(this,a),t.call(this,e)}return Object(h.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("textarea",{className:"text-field",type:"text",onChange:function(t){return e.props.onChange(t)},id:"word_pool",placeholder:"Enter words here to create randomized boards from a word list! Separate words with a new line."})}}]),a}(r.a.Component),x=function(e){Object(m.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).version="v0.1.3",a.veryBigSize=10,a.defaultSize=3,a.template={clicked:!1,text:"Right-click to change text",number:null},a.state={wordList:"",title:"Pinewood Bingo App - Click to edit title",size:a.defaultSize,freeSpace:!1,useNumbers:!1,minNumber:1,maxNumber:100,tiles:Array(Math.pow(a.defaultSize,2)).fill(a.template)},a}return Object(h.a)(n,[{key:"saveWordList",value:function(){var e=this.state.wordList,t=a(10),n=new Blob([e],{type:"text/plain;charset=utf-8"});t.saveAs(n,"word_list.txt")}},{key:"updateWordList",value:function(e){this.setState({wordList:e.target.value})}},{key:"changeTitle",value:function(){var e=prompt("Enter a title for the board:");null!=e&&""!=e&&this.setState({title:e})}},{key:"getTotalTiles",value:function(){return Math.pow(this.state.size,2)}},{key:"resetClickedTiles",value:function(){for(var e=this.state.tiles.slice(),t=0;t<e.length;t++)e[t]={clicked:!1,text:e[t].text};this.setState({size:this.state.size,tiles:e})}},{key:"randomizeFromWordPool",value:function(){var e=this.state.wordList.split(/\r\n|\r|\n/),t=this.state.tiles.slice();if(""!=e[0])if(""==e[e.length-1]&&e.pop(),e.length<this.getTotalTiles()&&!this.hasSeenWordListWarning)alert("The word list has fewer words than tiles in the board.");else{e=g(e);for(var a=0;a<this.getTotalTiles();a++){var n=v.a.sample(e);t[a]={clicked:!1,text:n},e=e.filter((function(e){return e!=n}))}this.setState({size:this.state.size,tiles:t})}}},{key:"randomizeTileOrder",value:function(){this.setState({size:this.state.size,tiles:g(this.state.tiles)})}},{key:"saveBoard",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"toFile",t=k(this.state);if("toFile"==e){var n=a(10),r=new Blob([t],{type:"text/plain;charset=utf-8"});n.saveAs(r,"board.txt")}else if("toText"==e){var i=window.open("");i.document.write(t)}}},{key:"loadBoard",value:function(){var e=Object(c.a)(l.a.mark((function e(t){var a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(f()("#file_loader").prop("files").length>0)){e.next=12;break}return a=f()("#file_loader").prop("files")[0],new FileReader,e.next=5,a.text();case 5:n=e.sent,this.setState((t=n,JSON.parse(t))),f()("#word_pool").val(this.state.wordList),f()("#button_free_space").prop("checked",this.state.freeSpace),f()("#button_use_numbers").prop("checked",this.state.useNumbers),f()("#button_min_number").val(this.state.minNumber),f()("#button_max_number").val(this.state.maxNumber);case 12:case"end":return e.stop()}var t}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"changeSize",value:function(){var e=parseInt(prompt("Enter new size for the board:"));null==e||""==e||e<1?alert("Invalid size; don't be stupid"):e>this.veryBigSize&&!window.confirm("You're creating a very large board ("+e+"x"+e+").\nAre you sure you want to do that?")||this.setState({size:e,tiles:Array(Math.pow(e,2)).fill(this.template)})}},{key:"renderTile",value:function(e){var t=this,a=this.state.tiles[e],n=!1;return Math.floor(Math.pow(this.state.size,2)/2)==e&&this.state.freeSpace&&this.state.size%2!=0&&(n=!0),r.a.createElement(N,{clicked:a.clicked,freeSpace:n,useNumbers:this.state.useNumbers,number:a.number,text:a.text,onClick:function(){return t.handleClick(e)},onRightClick:function(){return t.handleRightClick(e)}})}},{key:"handleRightClick",value:function(e){var t=this.state.tiles.slice(),a=prompt("Enter text for this tile:");null!=a&&""!=a&&(""==f()("#word_pool").val()?f()("#word_pool").val(f()("#word_pool").val()+a):f()("#word_pool").val(f()("#word_pool").val()+"\n"+a),t[e]={clicked:t[e].clicked,text:a},this.setState({size:this.state.size,tiles:t}))}},{key:"handleClick",value:function(e){var t=this.state.tiles.slice();t[e]={clicked:!t[e].clicked,text:t[e].text,number:t[e].number},this.setState({size:this.state.size,tiles:t})}},{key:"randomizeNumbers",value:function(e){var t=this.state.tiles.slice(),a=[];if(this.state.useNumbers||void 0==e)if(this.state.maxNumber-this.state.minNumber+1<this.totalTiles)alert("The number range is too small for the amount of tiles in the current board.");else{for(var n=0;n<this.totalTiles;n++){for(var r;;)if(r=v.a.random(this.state.minNumber,this.state.maxNumber),!a.includes(r)){a.push(r);break}t[n]={clicked:t[n].clicked,text:t[n].text,number:r}}this.setState({tiles:t})}else this.toggleNumberMode(!0)}},{key:"toggleNumberMode",value:function(e){e&&this.randomizeNumbers(),this.setState({useNumbers:e})}},{key:"render",value:function(){for(var e=this,t=[],a=[],n=0;n<Math.pow(this.state.size,2);n++)t.push(r.a.createElement("th",{key:n},this.renderTile(n)));for(var i=0,s=0;s<this.state.size;s++){for(var o=[],l=0;l<this.state.size;l++)o.push(t[i]),i++;a.push(r.a.createElement("tr",{key:s},o))}return r.a.createElement("div",{className:"flex-main"},r.a.createElement("div",null,r.a.createElement("h1",{onClick:function(){return e.changeTitle()}},this.state.title),r.a.createElement("table",{className:"tile-holder"},r.a.createElement("tbody",null,a))),r.a.createElement("div",{className:"right-panel"},r.a.createElement(w,{onChange:function(t){return e.updateWordList(t)}}),r.a.createElement("div",{className:"button-bar"},r.a.createElement("button",{className:"large-button",onClick:function(){return e.randomizeFromWordPool()}},"Generate Board from Word List"),r.a.createElement("button",{onClick:function(){return e.changeSize()}},"Change Size"),r.a.createElement("button",{onClick:function(){return e.randomizeTileOrder()}},"Shuffle Tiles"),r.a.createElement("button",{onClick:function(){return e.saveBoard()}},"Save Board"),r.a.createElement("button",{onClick:function(){return f()("#file_loader").click()}},"Load Board"),r.a.createElement("input",{onChange:function(t){return e.loadBoard(t)},className:"hidden",type:"file",accept:".txt",id:"file_loader"}),r.a.createElement("div",{className:"checkbox"},r.a.createElement("input",{id:"button_free_space",onChange:function(t){e.setState({freeSpace:t.target.checked})},className:"",type:"checkbox"}),r.a.createElement("p",null,"Free Space")),r.a.createElement("div",{className:"checkbox"},r.a.createElement("input",{id:"button_use_numbers",onChange:function(t){e.toggleNumberMode(t.target.checked)},className:"",type:"checkbox"}),r.a.createElement("p",null,"Use Numbers")),r.a.createElement("div",{className:"checkbox"},r.a.createElement("p",null,"Min:"),r.a.createElement("input",{id:"button_min_number",onChange:function(t){e.setState({minNumber:t.target.value})},className:"number-input",type:"number",value:this.state.minNumber})),r.a.createElement("div",{className:"checkbox"},r.a.createElement("p",null,"Max:"),r.a.createElement("input",{id:"button_max_number",onChange:function(t){e.setState({maxNumber:t.target.value})},className:"number-input",type:"number",value:this.state.maxNumber})),r.a.createElement("div",{className:"centered-button"},r.a.createElement("button",{onClick:function(t){return e.randomizeNumbers(t)}},"Randomize Numbers")))))}},{key:"totalTiles",get:function(){return Math.pow(this.state.size,2)}}]),n}(r.a.Component),y=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"flex-center-column"},r.a.createElement(x,null))}}]),a}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(y,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[13,1,2]]]);
//# sourceMappingURL=main.ef3542b7.chunk.js.map